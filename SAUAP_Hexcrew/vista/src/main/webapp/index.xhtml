<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:p="primefaces"
      xmlns:f="jakarta.faces.core">
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css" />
        <h:outputStylesheet library="css" name="layout.css" />
    </h:head>
    <h:body>
        <div class="layout-wrapper">
            <div class="layout-content">
                <div class="m-4">
                    <div class="flex justify-content-center flex-wrap">
                        <h1 class="flex align-items-center justify-content font-bold m-2">
                            SAUAP DAO HOLA
                        </h1>

                        <div class="grid">
                            <div class="col-12">
                                <h:form id="form">
                                    <p:growl id="messages" showDetail="true">
                                        <p:toolbar>
                                            <p:toolbarGroup>
                                                <p:commandButton value="Nuevo" icon="pi pi-plus"
                                                                 actionListener="#{usuarioHelper.nuevo()}"
                                                                 update=":dialogs:panel-content"
                                                                 oncomplete="PF('usuarioRegistroDialog').show()"
                                                                 styleClass="ui-button-success"
                                                                 style="margin-right: .5rem">
                                                    <p:resetInput target=":dialogs:panel-content" />
                                                </p:commandButton>
                                            </p:toolbarGroup>
                                        </p:toolbar>
                                    </p:growl>
                                </h:form>
                                <h:form id="dialogs">
                                    <p:dialog header="Usuario" showEffect="fade" modal="true" widgetVar="usuarioRegistroDialog"
                                              responsive="true">
                                        <p:outputPanel id="panel-content" class="ui-fluid">
                                            <p:outputPanel rendered="#{not empty usuarioHelper.getUsuario()}">
                                                
                                                <div class="field">
                                                    <p:outputLabel for="nombre">Nombre</p:outputLabel>
                                                    <p:inputText id="nombre" value="#{usuarioHelper.getUsuario().nombre}" required="true" />
                                                </div>
                                                
                                                <div class="field">
                                                    <p:outputLabel for="apellido">Apellido</p:outputLabel>
                                                    <p:inputText id="apellido" value="#{usuarioHelper.getUsuario().apellido}" required="true" />
                                                </div>
                                                
                                                <div class="field">
                                                    <p:outputLabel for="email">Email</p:outputLabel>
                                                    <p:inputText id="email" value="#{usuarioHelper.getUsuario().email}" required="true" />
                                                </div>
                                                
                                                <div class="field">
                                                    <p:outputLabel for="password">Password</p:outputLabel>
                                                    <p:inputText id="password" value="#{usuarioHelper.getUsuario().password}" required="true" />
                                                </div>
                                                
                                                <div class="field">
                                                    <p:outputLabel for="rfc">RFC</p:outputLabel>
                                                    <p:inputText id="rfc" value="#{usuarioHelper.getUsuario().rfc}" required="true" />
                                                </div>
                                            </p:outputPanel>
                                        </p:outputPanel>

                                        <f:facet name="footer">
                                            <p:commandButton value="Save" icon="pi pi-check" actionListener="#{usuarioHelper.save()}"
                                                             update="panel-content" process="panel-content @this" />
                                            <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('usuarioRegistroDialog').hide()"
                                                             class="ui-button-secondary" type="button" />
                                        </f:facet>
                                    </p:dialog>
                                </h:form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </h:body>
</html>
